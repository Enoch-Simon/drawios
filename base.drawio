<mxfile host="app.diagrams.net" modified="2021-08-16T02:15:58.283Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36 Edg/92.0.902.67" etag="UVxRx2ofzjsBrFx2o13X" version="14.9.6" type="github">
  <diagram id="a6OnzV1Ndyk_DHkABWHQ" name="第 1 页">
    <mxGraphModel dx="1865" dy="652" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Qp-zmMEZd6aNc9Hle5iR-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="-130" y="700" width="510" height="810" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-1" value="VideoBaseSR" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="150" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-2" value="获得 Post 请求参数，将json数据映射成&amp;nbsp;VideoBaseParam 对象" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="110" y="190" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-4" value="调用&amp;nbsp;videoService.storeUserVideo 方法" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="85" y="450" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-5" value="&lt;span&gt;如果&amp;nbsp;VideoBaseParam 不为空且合法，则&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="107" y="300" width="206" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-6" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-1" target="ii8zYGcmFe8xObhYAkSk-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="170" as="sourcePoint" />
            <mxPoint x="460" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-7" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-2" target="ii8zYGcmFe8xObhYAkSk-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="350" as="sourcePoint" />
            <mxPoint x="550" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-8" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-5" target="ii8zYGcmFe8xObhYAkSk-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="410" as="sourcePoint" />
            <mxPoint x="370" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-9" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-5" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="420" y="300" as="sourcePoint" />
            <mxPoint x="20" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-11" value="返回 错误信息" style="ellipse;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="-100" y="300" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-12" value="将&amp;nbsp;userVideoParam 转为&amp;nbsp;VideoUploadParam" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="390" y="450" width="166" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-14" value="调用&amp;nbsp;contentPoolService.&lt;br&gt;genDocId(userVideo.getVideoId())根据 videoId 生成 DocId" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="620" y="445" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-15" value="根据 videoId 查询redis 获取 videoUrl" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="920" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-16" value="videoUrl 合法" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="1110" y="440" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-17" value="" style="endArrow=none;dashed=1;html=1;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-4" target="ii8zYGcmFe8xObhYAkSk-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="610" as="sourcePoint" />
            <mxPoint x="370" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-18" value="" style="endArrow=none;dashed=1;html=1;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-12" target="ii8zYGcmFe8xObhYAkSk-14" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="410" as="sourcePoint" />
            <mxPoint x="620" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-19" value="" style="endArrow=none;dashed=1;html=1;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-14" target="ii8zYGcmFe8xObhYAkSk-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="880" y="430" as="sourcePoint" />
            <mxPoint x="930" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-20" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-15" target="ii8zYGcmFe8xObhYAkSk-16" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1040" y="440" as="sourcePoint" />
            <mxPoint x="1090" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-21" value="fillVideoMetadata 增加视频元数据，包括视频原声和视频所支持的分辨率" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="1310" y="450" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-22" value="setAuditStatus" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="1590" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-23" value="其中用到了 BitSet" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="1590" y="420" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-25" value="根据视频 id 删除视频缓存" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="1780" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-26" value="updateForWhiteListUser" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1970" y="450" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-29" value="getUserDetail" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="2000" y="570" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-30" value="判断 userId 是否合法" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="2000" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-31" value="根据 userId 查询缓存获取 userDTO" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="2000" y="750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-32" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-22" target="ii8zYGcmFe8xObhYAkSk-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="610" as="sourcePoint" />
            <mxPoint x="1790" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-33" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-21" target="ii8zYGcmFe8xObhYAkSk-22" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1490" y="580" as="sourcePoint" />
            <mxPoint x="1540" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-34" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-16" target="ii8zYGcmFe8xObhYAkSk-21" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1280" y="590" as="sourcePoint" />
            <mxPoint x="1330" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-35" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fontSize=15;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-25" target="ii8zYGcmFe8xObhYAkSk-26" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1810" y="600" as="sourcePoint" />
            <mxPoint x="1860" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-38" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-26" target="ii8zYGcmFe8xObhYAkSk-29" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1920" y="610" as="sourcePoint" />
            <mxPoint x="1970" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-39" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-29" target="ii8zYGcmFe8xObhYAkSk-30" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1880" y="640" as="sourcePoint" />
            <mxPoint x="1930" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-40" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ii8zYGcmFe8xObhYAkSk-30" target="ii8zYGcmFe8xObhYAkSk-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1880" y="670" as="sourcePoint" />
            <mxPoint x="1930" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ii8zYGcmFe8xObhYAkSk-41" value="userDTO 为null" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="2020" y="860" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-1" value="VideoBaseSR" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="150" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-2" value="获得 Post 请求参数，将json数据映射成&amp;nbsp;VideoBaseParam 对象" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="110" y="890" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-3" value="调用&amp;nbsp;videoService.storeUserVideo 方法" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="85" y="1150" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-4" value="&lt;span&gt;如果&amp;nbsp;VideoBaseParam 不为空且合法，则&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="107" y="1000" width="206" height="80" as="geometry" />
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-5" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="U-K7W_-wxtddjvLADjQt-1" target="U-K7W_-wxtddjvLADjQt-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="870" as="sourcePoint" />
            <mxPoint x="460" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-6" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="U-K7W_-wxtddjvLADjQt-2" target="U-K7W_-wxtddjvLADjQt-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="500" y="1050" as="sourcePoint" />
            <mxPoint x="550" y="1000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-7" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="U-K7W_-wxtddjvLADjQt-4" target="U-K7W_-wxtddjvLADjQt-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="1110" as="sourcePoint" />
            <mxPoint x="370" y="1060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-8" value="" style="endArrow=classic;html=1;fontSize=15;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="U-K7W_-wxtddjvLADjQt-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="420" y="1000" as="sourcePoint" />
            <mxPoint x="20" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="U-K7W_-wxtddjvLADjQt-9" value="返回 错误信息" style="ellipse;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="-100" y="1000" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Qp-zmMEZd6aNc9Hle5iR-1" value="调用 videoUpload 方法，入参将 videoBaseParam 转为 videoUploadParam" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="413" y="1150" width="197" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Qp-zmMEZd6aNc9Hle5iR-3" value="检查 videoUploadParam" style="rounded=1;whiteSpace=wrap;html=1;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="432.25" y="1250" width="158.5" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
